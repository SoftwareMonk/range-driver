

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Environmental Data &mdash; Range Driver 0.0.dev1 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="range_driver.data_prep.tidal module" href="tidal.html" />
    <link rel="prev" title="Data Preparation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Range Driver
          

          
          </a>

          
            
            
              <div class="version">
                0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/index.html">Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../config.html">Configuration Processing</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Data Preparation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Environmental Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="tidal.html">Tidal Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="metadata.html">Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../detections.html">Detections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plotting/index.html">Plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reporting.html">Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../utilities/index.html">Utilities</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Range Driver</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">range_driver</a> &raquo;</li>
        
          <li><a href="index.html">Data Preparation</a> &raquo;</li>
        
      <li>Environmental Data</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/modules/data_prep/environment.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-range_driver.data_prep.environment">
<span id="environmental-data"></span><h1>Environmental Data<a class="headerlink" href="#module-range_driver.data_prep.environment" title="Permalink to this headline">¶</a></h1>
<p>Functions to help integrate environmental data processing. Includes kadlu integration.</p>
<dl class="py function">
<dt id="range_driver.data_prep.environment.add_custom_env_data">
<code class="sig-prename descclassname"><span class="pre">range_driver.data_prep.environment.</span></code><code class="sig-name descname"><span class="pre">add_custom_env_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes_to_interpolate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variable_file_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detection_df</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/sfu-bigdata/range-driver/blob/public/range_driver/data_prep/environment.py#L50-L93"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#range_driver.data_prep.environment.add_custom_env_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the specified custom environmental data. The loaded data is interpolated across space
(2D or 3D) and time before being merged into a new version of detection_df.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axes_to_interpolate</strong> (<em>list</em>) – List of axes to interpolate over. The axes correspond to (1)
latitude, (2) longitude, (3) time, and (4) depth. The axes must be
provided in this order. The first 3 axes are mandatory, depth is
optional.</p></li>
<li><p><strong>variable_file_map</strong> (<em>sklearn.utils.Bunch</em>) – A bunch dictionary specifying which files should be used to load
environmental data. Keys are the names of variables to load while
values are the paths to the files containing the data.</p></li>
<li><p><strong>detection_df</strong> (<em>pandas.DataFrame</em>) – Dataframe containing detection data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A copy of detection_df where the interpolated custom environment data has been added.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="range_driver.data_prep.environment.add_kadlu_env_data">
<code class="sig-prename descclassname"><span class="pre">range_driver.data_prep.environment.</span></code><code class="sig-name descname"><span class="pre">add_kadlu_env_data</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detection_df</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/sfu-bigdata/range-driver/blob/public/range_driver/data_prep/environment.py#L12-L47"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#range_driver.data_prep.environment.add_kadlu_env_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the requested environmental data for the given region &amp; time. The data is interpolated
across space (2D or 3D) and time before being merged into a new version of detection_df.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds</strong> (<em>dict</em>) – Dictionary containing the boundaries (space &amp; time) which will be used to fetch
data from kadlu. Must include <cite>north</cite>, <cite>south</cite>, <cite>east</cite>, <cite>west</cite>, <cite>start</cite>, <cite>end</cite>,
<cite>top</cite>, and <cite>bottom</cite>.</p></li>
<li><p><strong>sources</strong> (<em>dict.</em>) – Dictionary containing a variable -&gt; source mapping.</p></li>
<li><p><strong>detection_df</strong> (<em>pandas.DataFrame</em>) – Dataframe containing detection data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>detection_df_env</strong> (<cite>pandas.DataFrame</cite>) - A copy of detection_df where interpolated
environment data has been added.</p></li>
<li><p><strong>kadlu_result</strong> (<cite>numpy.array</cite>) - The raw result from kadlu (not interpolated)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="range_driver.data_prep.environment.interpolate">
<code class="sig-prename descclassname"><span class="pre">range_driver.data_prep.environment.</span></code><code class="sig-name descname"><span class="pre">interpolate</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_to_interpolate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes_to_interpolate</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/sfu-bigdata/range-driver/blob/public/range_driver/data_prep/environment.py#L96-L129"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#range_driver.data_prep.environment.interpolate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tidal.html" class="btn btn-neutral float-right" title="range_driver.data_prep.tidal module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="Data Preparation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, SFU.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>